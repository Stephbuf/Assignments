<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Add Goal</ion-title> <!-- âœ… Clean title -->
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <form [formGroup]="goalForm" (ngSubmit)="onSubmit()" 
    style="background-color: rgba(255, 255, 255, 0.9); text-align: center; padding: 30px; border-radius: 15px; width: 400px; margin: auto;">
  
    <ion-list>

      <ion-item>
        <ion-input formControlName="title" placeholder="Title"></ion-input>
      </ion-item>
      <span class="error" *ngIf="goalForm.get('title')?.touched && goalForm.get('title')?.errors?.['required']">
        Must add a title!
      </span>

      <ion-item>
        <ion-select formControlName="priority_level" placeholder="Priority Level">
          <ion-select-option value="Low">Low</ion-select-option>
          <ion-select-option value="Medium">Medium</ion-select-option>
          <ion-select-option value="High">High</ion-select-option>
        </ion-select>
      </ion-item>
      <span class="error" *ngIf="goalForm.get('priority_level')?.touched && goalForm.get('priority_level')?.errors?.['required']">
        Must select a priority level!
      </span>

      <ion-item>
        <ion-input formControlName="description" placeholder="Description"></ion-input>
      </ion-item>
      <span class="error" *ngIf="goalForm.get('description')?.touched && goalForm.get('description')?.errors?.['required']">
        Must add a description!
      </span>

      <ion-item>
        <ion-select formControlName="progress_level" placeholder="Progress Level">
          <ion-select-option value="Pending">Pending</ion-select-option>
          <ion-select-option value="Started">Started</ion-select-option>
          <ion-select-option value="Completed">Completed</ion-select-option>
        </ion-select>
      </ion-item>
      <span class="error" *ngIf="goalForm.get('progress_level')?.touched && goalForm.get('progress_level')?.errors?.['required']">
        Must select a progress level!
      </span>

      <ion-item>
        <ion-datetime formControlName="goal_date" presentation="date"></ion-datetime>
      </ion-item>
      <span class="error" *ngIf="goalForm.get('goal_date')?.touched && goalForm.get('goal_date')?.errors?.['required']">
        Must pick a date!
      </span>

    </ion-list>

    <br />
    <ion-button expand="block" type="submit" [disabled]="goalForm.invalid">Add Goal</ion-button>

  </form> 
</ion-content>
<ion-footer>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-footer>
